<!DOCTYPE html>
<html>
<head>
<META HTTP-EQUIV="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wellness &amp; Health</title>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
<!-- NO PUEDE ACCEDER AL LINK DE ARRIBA PORQUE NO AGARRA INTERNET -->
<link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />

<link rel="stylesheet" type="text/css" href="css/style.css">
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="js/jquery-1.11.1.min.js"></script>
    
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

    
<link href='http://fonts.googleapis.com/css?family=Squada+One' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Russo+One' rel='stylesheet' type='text/css'>
</head>

<body>

<!------------    LOGIN    !------------>
<div data-role="page" id="inicio">
<div id="fondo-login">

<!--- HEADER !-->
            <div data-role="header" class="none">
            <img id="logo" src="img/logo.png">
            </div>


            <!--- CONTENIDO !-->
            <div data-role="content">	
            <form id="formulario" class="fondoFormulario" >
            <input type="text" placeholder="Usuario" id="nombreUsuario" name="nombreUsuario" required="">
            <input type="password" placeholder="Contraseña" id="password" name="password" required="">
            <input type="submit" value="Iniciar Sesión">
            </form>	
            </div>
            </div>
        
	</div>

    
    <!------------    HOME    !------------>
	<div data-role="page" id="home" class="page">
	        
            
            <!--- MENU NAVEGACION !-->
            <div class="menu-nav topbar">
            <div class="btn-menu-nav">
            <a href="#logrosPagina" data-transition="slideup"><div class="img-btn btn-logro-o"></div></a>
            </div>
            <div class="diferente">
            <p><span class="azul">Wellness</span> <span class="rojo">&amp; Health</span></p>
            </div>
            
            </div>
        
        
            <!--- CONTENIDO !-->
		    <div data-role="content" class="secciones">
                <div id="tituloBienvenidoContenedor">
		      <h1 id="tituloBienvenido">
                  
                </h1>
                    
                    </div>
                  
                  <div class="botonesConocer">
            <a href="#porcentajeGrasa" data-transition="slideup"><div class="botoncesDivididosConoce btn-porcentaje-o"></div></a>
                      <a href="#tiempoDescanso" data-transition="slideup"><div class="botoncesDivididosConoce btn-tiempoDescanso-o"></div></a>
          
                  </div>
                  
                    
                
		    </div>
 
	</div>

    <!------------    LOGROS Y BENEFICIOS    !------------>
	<div data-role="page" id="logrosPagina" class="page">
	           
         <!--- MENU NAVEGACION !-->
            <div class="menu-nav topbarDiferenteLogros">
            <div class="btn-menu-nav menu-logros">
            <a href="#home" data-transition="slideup"><div class="img-btn btn-back-o"></div></a>
            </div>
            <div class="diferente menu-logros">
            <p>Logros y beneficios</p>
            </div>
            
            </div>
        
        
            <!--- CONTENIDO !-->
		    <div data-role="content" class="secciones">	
		    
             <div class="botonesLogros">
                 
                 <div id="tituloLogros"></div>
                 
          
                  </div>
                
		    </div>
 
	</div>
    
    
    
    <!------------    TIMMER    !------------>
	<div data-role="page" id="tiempoDescanso" class="page">
	           
        
            <!--- HEADER !-->
            <div class="menu-nav topbarDiferente">
            <div class="btn-menu-nav menu-timer">
            <a href="#home" data-transition="slideup"><div class="img-btn btn-back-o"></div></a>
            </div>
            <div class="diferente menu-timer">
            <p>Tiempo de descanso</p>
            </div>
            
            </div>
		 
                
        
            <!--- CONTENIDO !-->
		    <div data-role="content" class="secciones">	
		    
                <div class="timer">
                   
                </div>
		    </div>
 
	</div>  
    
    
    
     <!------------    MASA CORPORAL    !------------>
	<div data-role="page" id="porcentajeGrasa" class="page">
	           
         <!--- MENU NAVEGACION !-->
            <div class="menu-nav topbarDiferenteLogros">
            <div class="btn-menu-nav menu-logros">
            <a href="#home" data-transition="slideup"><div class="img-btn btn-back-o"></div></a>
            </div>
            <div class="diferente menu-logros">
            <p>Porcentaje de grasa</p>
            </div>
            
            </div>
        
        
            <!--- CONTENIDO !-->
		    <div data-role="content" class="secciones">	
		    
                 <div class="botonesLogros">

                     <div id="muestraPorcentaje">
<div data-role="tabs" id="tabs">
    <div data-role="navbar">
        <ul>
            <li>
                <a href="#one" data-ajax="false">CALCULAR</a>
            </li>
            <li>
                <a href="#two" data-ajax="false">HISTORIAL</a>
            </li>
            <li>
                <a href="#" data-ajax="false">PROCESO</a>
            </li>
        </ul>
    </div>
    <div id="one" class="ui-body-d ui-content">
        <label class="lightTitulo gris" for="slider">Edad</label>
        <input type="range" name="slider" id="slider" value="0" min="0" max="100">
        <label class="lightTitulo gris"  for="slider">Altura</label>
        <input type="range" name="slider" id="slider" value="0" min="0" max="300">
        <label class="lightTitulo gris"  for="slider">Cintura</label>
        <input type="range" name="slider" id="slider" value="0" min="0" max="400">
        <label class="lightTitulo gris"  for="slider">Cuello</label>
        <input type="range" name="slider" id="slider" value="0" min="0" max="150">
    </div><div id="two">
    <table data-role="table" id="table-column-toggle" data-mode="columntoggle" class="ui-responsive table-stroke">
        <thead>
            <tr>
                <th>Fecha</th>
                <th>% de Grasa</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>29 / 8 / 2015</th>
                <td>10.39%</a></td>
            </tr>
            </tbody>
        <tbody>
            <tr>
                <th>03 / 9 / 2015</th>
                <td>15.30%</a></td>
                     </tr>
                </tbody>
        </table>
    </div>
    </div>    

                     </div>
                 </div>
                
		    </div>
 
	</div>
    
    
    
    

<script>

    
	$('#formulario').submit(function() {
	// recolecta los valores que inserto el usuario
	var datosUsuario = $("#nombreUsuario").val()
	var datosPassword = $("#password").val()
    var homeLoaded = false;

	archivoValidacion = "http://wahsalud.tk/appwah/validacionReal.php?jsoncallback=?" 
	 
	$.getJSON( archivoValidacion, { usuario:datosUsuario ,password:datosPassword}) 
	.done(function(respuestaServer) {


		if(respuestaServer.validacion == "ok"){ 

			$.mobile.changePage("#home"); // Redirige a esa page automaticamente va una vez

			$("#home").on("pageshow", function(){ //al mostrarse esa pagina pasa algo.
                    if(homeLoaded == false){
                        
                        $('#tituloBienvenido').append('<span class="lightTitulo gris">Bienvenido</span> <span class="azul"> ' + respuestaServer[0].nombreUsuario +  '</span> <span class="lightTitulo gris">conoce tu</span>'); 
                    
                        homeLoaded = true;
                       //$('#tituloBienvenido').listview('refresh');  
                }
                
                 $('#tituloLogros').empty();
                 $('.timer').empty();
                    //$('#tituloBienvenido').listview('refresh');      
			});
            
            
           
            
            
            
            
            
            
            
            
           

                /* Esto guarda en el localstorage */
                var datosLocales = JSON.stringify(respuestaServer);
                localStorage.setItem("datos", datosLocales);
            
                if(navigator.offline){
                   /* alert("No hay señal");*/
                     $("#porcentajeGrasa").on("pageshow", function(){
                         $('.timer').empty();
                     });
                    
                    
                    $("#tiempoDescanso").on("pageshow", function(){
                
                
                
                  $('.timer').append('<span class="minutes">01</span>:<span class="seconds">00</span><div class="container-btn-timer"><button id="playTime">start</button><button id="stop">stop</button><button id="reset">reset</button></div><audio id="timer-beep"><source src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/41203/beep.mp3"/><source src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/41203/beep.ogg" /></audio>'); 
                
                 
            var $timer = $( this ),
			$minutesEl = $timer.find( '.minutes' ),
			$secondsEl = $timer.find( '.seconds' ),
			interval = 1000,
			timer = null,
			start = 60,
			minutesText = $minutesEl.text(),
			minutes = ( minutesText[0] == '0' ) ? minutesText[1] : minutesText[0],
			m = Number( minutes );
                
                
                $.fn.timer = function( callback ) {
	callback = callback || function() {};
	return this.each(function() {
		
			
			timer = setInterval(function() {
				start--;
				if( start == 0 ) {
					start = 60;
					
					$secondsEl.text( '00' );
					
					m--;
					
					if( m == 0 ) {
						clearInterval( timer );
						$minutesEl.text( '00' );
						callback();
						
					}
				} else {
				
					if( start >= 10 ) {
				
						$secondsEl.text( start.toString() );
				
					} else {
				
						$secondsEl.text( '0' + start.toString() );
					
				
					}
					if( minutes.length == 2 ) {
						$minutesEl.text( m.toString() );
					} else {
						if( m == 1 ) {
							$minutesEl.text( '00' );	
						} else {
							$minutesEl.text( '0' + m.toString() );
						}
					}
				
				}
			
			}, interval);
        
         
            
        
	
    });
                                       

                    
                    
                 
                
                    
                    
                    
                    
};
                
                

$(function() {
	$( '.timer' ).timer(function() {
		document.getElementById( 'timer-beep' ).play();
	});

});
           
                
                $('#stop').click(function(){
                    console.log("Le di al STOP");
                    // PONERLE LA VARIABLE DE TIMER
                    clearTimeout(timer);     
                });  
                
                $('#playTime').click(function(){
                    console.log("Le di al PLAY");
                    // PONERLE LA VARIABLE DE TIMER
                   timer();


                });
                
              
                
                  

            
            
                
            
                
                
           
                $('#tituloLogros').empty();
               
            
            });
                    
                    
                    $("#logrosPagina").on("pageshow", function(){ //al mostrarse esa pagina pasa algo.
                        $('#tituloLogros').append('Compruebe su conexión a internet'); 
                    });
                    
                    
                    
                    
                }else{
                    /*alert("Si hay señal"); */
                    
                     $("#logrosPagina").on("pageshow", function(){ //al mostrarse esa pagina pasa algo.
                
                
                //primero creamos la lista de los logros
                var elementosListaLogros = Object.keys(respuestaServer['logrosListas']).length;
                
                //console.log(respuestaServer['logros'].length);
                
                
                        
                for(var logroLista=0; logroLista< elementosListaLogros; logroLista++){
                    //ESTOY ACA!
                    // es con  .empty();
                    
     
                    
                    $('#tituloLogros').append(
                   // '<h1>'+ respuestaServer["logrosListas"][logroLista].nombreLogroES +'</h1>'+
                    '<img class="contenedorImagenLogro" id="'+ respuestaServer["logrosListas"][logroLista].nombreLogroES +'" src="http://wahsalud.tk/'+respuestaServer["logrosListas"][logroLista].fotoLogro+'"/>'); 
                    
                                 
                   
                    
                    
				}
                
                 //segundo creamos la lista de los logros obtenidos
                var elementosLogros = Object.keys(respuestaServer['logros']).length;
                var arrayLogrosTiene = new Array();
				for(var logro=0; logro< elementosLogros; logro++){
                    
                arrayLogrosTiene.push(respuestaServer["logros"][logro].nombreLogroES);
                console.log(respuestaServer["logros"][logro].nombreLogroES);
                    
                   /* $('#tituloLogros').append(
                    '<h1>'+ respuestaServer["logros"][logro].nombreLogroES +'</h1>'+
                    '<img id="cumpleanos" src="/wahsaludDesdeCero/'+respuestaServer["logros"][logro].fotoLogro+'"/>'); 
                   */ 
                    
                         
				}
                
                
                var arrayLogrosLista = new Array();
				for(var logro=0; logro< elementosListaLogros; logro++){
                    
                arrayLogrosLista.push(respuestaServer["logrosListas"][logro].nombreLogroES);
                    
                console.log(respuestaServer["logrosListas"][logro].nombreLogroES);
                    
                    
                   //$('#tituloLogros').append(
                //    '<h1>'+ respuestaServer["logros"][logro].nombreLogroES +'</h1>'+
                //    '<img id="cumpleanos" src="/wahsaludDesdeCero/'+respuestaServer["logros"][logro].fotoLogro+'"/>'); 
                   
                    
                         
				}
                
                for(var loTiene=0; loTiene< elementosLogros; loTiene++){
                if($.inArray(respuestaServer["logros"][loTiene].nombreLogroES, arrayLogrosLista) != -1 ){
                    
                    console.log("LO TIENE");
                
                }
                    else{
                    console.log("NO LO TIENE LA WEA" + respuestaServer["logros"][loTiene].nombreLogroES);
                        
                        if(respuestaServer["logros"][loTiene].nombreLogroES == "CumpleanosObt")
                        {
                        $('#Cumpleanos').attr('src', 'http://wahsalud.tk/'+respuestaServer["logros"][loTiene].fotoLogro);
                        }
                        // NUEVOS OBTENIDOS ====== 
                        if(respuestaServer["logros"][loTiene].nombreLogroES == "AsistenciaObt")
                        {
                        $('#Asistencia').attr('src', 'http://wahsalud.tk/'+respuestaServer["logros"][loTiene].fotoLogro);
                        }
                        
                         if(respuestaServer["logros"][loTiene].nombreLogroES == "EntranamientoObte")
                        {
                        $('#Entranamiento').attr('src', 'http://wahsalud.tk/'+respuestaServer["logros"][loTiene].fotoLogro);
                        }
                        
                        if(respuestaServer["logros"][loTiene].nombreLogroES == "PlanAmigoObte")
                        {
                        $('#PlanAmigo').attr('src', 'http://wahsalud.tk/'+respuestaServer["logros"][loTiene].fotoLogro);
                        }
                        
                        if(respuestaServer["logros"][loTiene].nombreLogroES == "PlanSemestralObte")
                        {
                        $('#PagoSemestral').attr('src', 'http://wahsalud.tk/'+respuestaServer["logros"][loTiene].fotoLogro);
                        }
                        
                        if(respuestaServer["logros"][loTiene].nombreLogroES == "PlanAnualObte")
                        {
                        $('#PagoAnual').attr('src', 'http://wahsalud.tk/'+respuestaServer["logros"][loTiene].fotoLogro);
                        }
                        
                        //============
                        
                        // NUEVOS VENCE ====== 
                        
                         if(respuestaServer["logros"][loTiene].nombreLogroES == "PagoSemestralVen")
                        {
                        $('#PagoSemestral').attr('src', 'http://wahsalud.tk/'+respuestaServer["logros"][loTiene].fotoLogro);
                        }
                        
                        if(respuestaServer["logros"][loTiene].nombreLogroES == "PlanAnualVen")
                        {
                        $('#PagoAnual').attr('src', 'http://wahsalud.tk/'+respuestaServer["logros"][loTiene].fotoLogro);
                        }
                        
                        
                        if(respuestaServer["logros"][loTiene].nombreLogroES == "PlanAmigoVen")
                        {
                        $('#PlanAmigo').attr('src', 'http://wahsalud.tk/'+respuestaServer["logros"][loTiene].fotoLogro);
                        
                        }
                                                
                                           
                        
                       
                         
                        //Reemplazarle las cosas de arriba por cada una
                        
                    
                    
                    }
                    
                   
                }
      
              //  respuestaServer['logros'][0].nombreLogroES;
                
                $('.timer').empty();
                //callback();
                           
			});
                    
                    
                    
                     $("#porcentajeGrasa").on("pageshow", function(){
                         $('.timer').empty();
                     });
                    
                    
                    $("#tiempoDescanso").on("pageshow", function(){
                
                
                
                  $('.timer').append('<span class="minutes">01</span>:<span class="seconds">00</span><div class="container-btn-timer"><button id="playTime">start</button><button id="stop">stop</button><button id="reset">reset</button></div><audio id="timer-beep"><source src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/41203/beep.mp3"/><source src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/41203/beep.ogg" /></audio>'); 
                
                 
            var $timer = $( this ),
			$minutesEl = $timer.find( '.minutes' ),
			$secondsEl = $timer.find( '.seconds' ),
			interval = 1000,
			timer = null,
			start = 60,
			minutesText = $minutesEl.text(),
			minutes = ( minutesText[0] == '0' ) ? minutesText[1] : minutesText[0],
			m = Number( minutes );
                
                
                $.fn.timer = function( callback ) {
	callback = callback || function() {};
	return this.each(function() {
		
			
			timer = setInterval(function() {
				start--;
				if( start == 0 ) {
					start = 60;
					
					$secondsEl.text( '00' );
					
					m--;
					
					if( m == 0 ) {
						clearInterval( timer );
						$minutesEl.text( '00' );
						callback();
						
					}
				} else {
				
					if( start >= 10 ) {
				
						$secondsEl.text( start.toString() );
				
					} else {
				
						$secondsEl.text( '0' + start.toString() );
					
				
					}
					if( minutes.length == 2 ) {
						$minutesEl.text( m.toString() );
					} else {
						if( m == 1 ) {
							$minutesEl.text( '00' );	
						} else {
							$minutesEl.text( '0' + m.toString() );
						}
					}
				
				}
			
			}, interval);
        
         
            
        
	
    });
                                       

                    
                    
                 
                
                    
                    
                    
                    
};
                
                

$(function() {
	$( '.timer' ).timer(function() {
		document.getElementById( 'timer-beep' ).play();
	});

});
           
                
                $('#stop').click(function(){
                    console.log("Le di al STOP");
                    // PONERLE LA VARIABLE DE TIMER
                    clearTimeout(timer);     
                });  
                
                $('#playTime').click(function(){
                    console.log("Le di al PLAY");
                    // PONERLE LA VARIABLE DE TIMER
                   timer();


                });
                
              
                
                  

            
            
                
            
                
                
           
                $('#tituloLogros').empty();
               
            
            });
                   
                }
            
                /* Esto es para leer y va en otra parte */
                var datosGuardados = localStorage.getItem("datos");
                var datosObjeto = JSON.parse(datosGuardados);
                
            
	}else{

	    alert("no");
	}
	

	})


	return false;


	})


</script>
<script type="text/javascript" src="getProjects.js"></script> 
<script type="text/javascript" src="cordova.js"></script> 
</body>
</html>